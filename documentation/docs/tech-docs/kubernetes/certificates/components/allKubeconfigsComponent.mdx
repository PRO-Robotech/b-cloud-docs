
import KubeSchedulerCerts from '@site/docs/tech-docs/kubernetes/certificates/components/kubeScheduler/main.mdx'
import KubeAPIClient from '@site/docs/tech-docs/kubernetes/certificates/components/kubelet/kubeAPIClient/main.mdx'
import AdminClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/admin/adminClient/main.mdx'
import SuperAdminClientMain from '@site/docs/tech-docs/kubernetes/certificates/components/admin/superAdminClient/main.mdx'
import KubeControllerKubeAPIClient from '@site/docs/tech-docs/kubernetes/certificates/components/kubeControllerManager/kubeAPIClient/main.mdx'

import Admonition from '@theme/Admonition'
import TabItem from '@theme/TabItem'
import Tabs from '@theme/Tabs'

> Kubeconfig — это конфигурационный файл, который предоставляет доступ к кластеру Kubernetes. Он содержит информацию о серверах API, учетных данных пользователей (таких как токены или сертификаты) и контекстах, определяющих, какой кластер и пользователь используются. Kubeconfig обеспечивает аутентификацию и авторизацию при взаимодействии с кластером через kubectl или другие клиенты, позволяя безопасно управлять ресурсами и настройками кластера.

> Этот раздел посвящён созданию `kubeconfig`-файлов для различных компонентов и пользователей, обеспечивая безопасное подключение к API-серверу Kubernetes.

<Tabs groupId="phase">
  <TabItem value="init">
    <details>
      <summary>
        <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
          <p style={{ marginBottom: 0 }}>Создание конфигураций kubeconfig/сертификатов</p>
          <p className="obligatory-note-orange">● Обязателен к применению</p>
        </div>
      </summary>
      <Tabs groupId="Certs-APPS">
        <TabItem value="Super Admin">
          <details open className="custom-gray-block">
            <summary>
              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
                <p style={{ marginBottom: 0 }}>Super Admin</p>
              </div>
            </summary>
            <SuperAdminClientMain />
          </details>
        </TabItem>
        <TabItem value="Admin">
          <details open className="custom-gray-block">
            <summary>
              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
                <p style={{ marginBottom: 0 }}>Admin</p>
              </div>
            </summary>
            <AdminClientMain />
          </details>
        </TabItem>
        <TabItem value="Controller">
          <details open className="custom-gray-block">
            <summary>
              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
                <p style={{ marginBottom: 0 }}>Kube Controller Manager</p>
              </div>
            </summary>
            <KubeControllerKubeAPIClient />
          </details>
        </TabItem>
        <TabItem value="Scheduler">
          <details open className="custom-gray-block">
            <summary>
              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
                <p style={{ marginBottom: 0 }}>Kube Scheduler</p>
              </div>
            </summary>
            <KubeSchedulerCerts />
          </details>
        </TabItem>
        <TabItem value="Kubelet">
          <details open className="custom-gray-block">
            <summary>
              <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
                <p style={{ marginBottom: 0 }}>Kubelet client</p>
              </div>
            </summary>
            <Admonition type="warning">
              Обратите внимание! Можно подписать через `kubectl certificate approve`
            </Admonition>
            <KubeAPIClient />
          </details>
        </TabItem>
      </Tabs>
    </details>
  </TabItem>
  <TabItem value="join">
    <details>
      <summary>
        <div style={{ display: 'flex', justifyContent: 'space-between', flexWrap: 'wrap' }}>
          <p style={{ marginBottom: 0 }}>Создание конфигураций kubeconfig/сертификатов</p>
          <p className="obligatory-note-orange">● Обязателен к применению</p>
        </div>
      </summary>
      TODO
    </details>
  </TabItem>
</Tabs>
